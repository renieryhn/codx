<%@ Page Title="" Language="vb" AutoEventWireup="false" MasterPageFile="~/Consulta.Master" CodeBehind="wfmRecibo_List.aspx.vb" Inherits="UserControls.wfmRecibo_List" %>
<%@ MasterType VirtualPath="~/Consulta.Master"%>
<%@ Register Assembly="AjaxControlToolkit" Namespace="AjaxControlToolkit" TagPrefix="asp" %>

<%@ Register src="~/Controles/TextBox.ascx" tagname="TextBox" tagprefix="uc1" %>
<%@ Register src="~/Controles/ComboBox.ascx" tagname="ListBox" tagprefix="uc2" %>

<%@ Register src="../../Controles/ComboBox.ascx" tagname="ComboBox" tagprefix="uc2" %>
<%@ Register src="../../Controles/DateControl.ascx" tagname="DateControl" tagprefix="uc3" %>

<asp:Content ID="Content1" runat="server" 
    contentplaceholderid="ContentPlaceHolder2">
    <script type = "text/javascript">
        var isShift = false;
        function keyUP(keyCode) {
            if (keyCode == 16) {
                isShift = false;
            }
        }
        function isNumeric(keyCode) {
            if (keyCode == 16) {
                isShift = true;
            }
            return ((keyCode >= 48 && keyCode <= 57 || keyCode == 8 || (keyCode >= 96 && keyCode <= 105)) && isShift == false);
        }
    </script>
<div>
<asp:Label ID="Label3" runat="server" Text="No. Recibo Finanzas"></asp:Label>
<asp:label ID = "lblNumReciboFinanzas" Text = "NumReciboFinanzas" Visible ="false" runat ="server"></asp:label>
<asp:TextBox ID="txtNumReciboFinanzas" runat="server" Width="300px" onkeyup = "keyUP(event.keyCode)" onkeydown = "return isNumeric(event.keyCode);" MaxLength="32" />
<br />
<asp:Label ID="Label4" runat="server" Text="No. Expediente"></asp:Label>
<uc1:TextBox ID="txtId" runat="server" FieldName="IdExpediente" Lenght="300" width="300" MaxLength="17"/>
<br />
<asp:Label ID="Label5" runat="server" Text="Solicitante"></asp:Label>
<uc1:TextBox ID="txtSolicitante" runat="server" FieldName="Solicitante" Lenght="300" width="300" MaxLength="60" Int="False" />
<br />
<asp:Label ID="Label14" runat="server" Text="Valor Dolares"></asp:Label>
<uc1:TextBox ID="txtValorDolares" runat="server" FieldName="ValorDolares" Lenght="300" width="300" MaxLength="12" Int="False" />
<br />                
<asp:Label ID="Label2" runat="server" Text="Usuario"></asp:Label>
<uc1:TextBox ID="txtUsuario" runat="server" FieldName="Usuario" Lenght="300" width="300" MaxLength="50" />
<br />
<asp:Label ID="Label6" runat="server" Text="Oficina"></asp:Label>
<uc2:ListBox ID="cboOficina" runat="server" AutoFill="True" FieldName="idOficina" idFieldName="id" TableName="Oficina" textFieldName="Nombre" />
<br />
<asp:Label ID="Label7" runat="server" Text="Servicio"></asp:Label>
<uc2:ComboBox ID="cboServicio" runat="server" AutoFill="True" FieldName="idServicio" idFieldName="id" postBack="True" TableName="Servicios" textFieldName="Nombre" />
<br />
<asp:Label ID="Label8" runat="server" Text="Sub Servicio"></asp:Label>
<uc2:ComboBox ID="cboSubServicio" runat="server" AutoFill="False" FieldName="idSubServicio" idFieldName="Codigo" idParentComboBox="idServicio" 
TableName="SubServicios" textFieldName="Nombre" AditionalCondition="indEstado='A'" postBack="False" />
<br />
<asp:Label ID="Label9" runat="server" Text="Fecha Emisión: Inicio"></asp:Label>
<uc3:DateControl ID="dtcFechaEmisionDesde" runat="server" FechaHora="False" FieldName="FechaEmisionDesde" />
<br />
<asp:Label ID="Label10" runat="server" Text="Fecha Emisión: Fin"></asp:Label>
<uc3:DateControl ID="dtcFechaEmisionHasta" runat="server" FechaHora="False" FieldName="FechaEmisionDesde" />
<br />
<asp:Label ID="Label11" runat="server" Text="Fecha Pago: Inicio"></asp:Label>
<uc3:DateControl ID="dtcFechaPagoDesde" runat="server" FechaHora="False" FieldName="FechaPagoDesde" />
<br />
<asp:Label ID="Label12" runat="server" Text="Fecha Pago: Fin"></asp:Label>
<uc3:DateControl ID="dtcFechaPagoHasta" runat="server" FechaHora="False" FieldName="FechaPagoHasta" />
<br />
<asp:Label ID="Label13" runat="server" Text="Pagado"></asp:Label>
<uc2:ListBox ID="cboPagado" runat="server" FieldName="indPagado" idFieldName="id" TableName="Si_No" textFieldName="Nombre" AutoFill="True" />
<br />
</div>
<div>
                    <asp:GridView ID="GridView1" runat="server" AutoGenerateColumns="False" 
                        CellPadding="4" ForeColor="#333333" GridLines="None" AllowPaging="True" 
                        AllowSorting="True" DataKeyNames="Id" PageSize="15" 
                        EmptyDataText="No se encontraron registros" >
                        <AlternatingRowStyle BackColor="White" ForeColor="#284775" />
                        <Columns>
                            <asp:TemplateField ShowHeader="False">
                                <ItemTemplate>
                                    <asp:LinkButton ID="lnkEditar" runat="server" CausesValidation="False" 
                                        CommandName="Edit" Text="Editar"></asp:LinkButton>
                                </ItemTemplate>
                            </asp:TemplateField>
                            <asp:TemplateField ShowHeader="False">
                                <ItemTemplate>
                                    <asp:LinkButton ID="lnkEliminar" runat="server" CausesValidation="False" onClientClick="return confirm('Seguro que desea eliminar el registro?');" 
                                    CommandName="Delete" Text="Eliminar"></asp:LinkButton>
                                </ItemTemplate>
                            </asp:TemplateField>
                            <asp:BoundField DataField="Id" HeaderText="Codigo" />
                            <asp:BoundField DataField="NumReciboFinanzas" HeaderText="Recibo Finanzas" />
                            <asp:BoundField DataField="NombreOficina" HeaderText="Oficina" />
                            <asp:BoundField DataField="NombreServicio" HeaderText="Servicio" />
                            <asp:BoundField DataField="NombreSubServicio" HeaderText="Sub Servicio" />
                            <asp:BoundField DataField="Cantidad" HeaderText="Cantidad" />
                            <asp:BoundField DataField="Valor" HeaderText="Valor" />
                            <asp:BoundField DataField="idUsuario" HeaderText="Usuario" />
                            
                            <asp:BoundField DataField="IdExpediente" HeaderText="Expediente" />
                            
                        </Columns>
                        <EditRowStyle BackColor="#999999" />
                        <EmptyDataRowStyle ForeColor="#FF3300" />
                        <FooterStyle BackColor="#5D7B9D" Font-Bold="True" ForeColor="White" />
                        <HeaderStyle BackColor="#5D7B9D" Font-Bold="True" ForeColor="White" />
                        <PagerStyle BackColor="#284775" ForeColor="White" HorizontalAlign="Center" />
                        <RowStyle BackColor="#F7F6F3" ForeColor="#333333" />
                        <SelectedRowStyle BackColor="#E2DED6" Font-Bold="True" ForeColor="#333333" />
                        <SortedAscendingCellStyle BackColor="#E9E7E2" />
                        <SortedAscendingHeaderStyle BackColor="#506C8C" />
                        <SortedDescendingCellStyle BackColor="#FFFDF8" />
                        <SortedDescendingHeaderStyle BackColor="#6F8DAE" />
                    </asp:GridView>
                    <br />
                    <asp:HyperLink ID="linkNuevo" runat="server" 
                        NavigateUrl="~/Ingresos/Recibo/wfmReciboAdd.aspx" 
                        Visible="False">[linkNuevo]</asp:HyperLink>
                    <asp:HyperLink ID="linkModificar" runat="server" 
                        NavigateUrl="~/Ingresos/Recibo/wfmRecibo_Edit.aspx" 
                        Visible="False">[linkModificar]</asp:HyperLink>
               </div>
</asp:Content>



